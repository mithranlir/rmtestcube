<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<pivotDescription xmlns="http://www.quartetfs.com"
	xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.quartetfs.com ../activepivot-types.xsd">

	<!-- Selection of the aggregate provider -->
	<aggregateProvider pluginKey="JUST_IN_TIME" />

	<dimensions>
		<dimension name="Bookings" type="REGULAR">
			<hierarchy name="Bookings">
				<level name="Desk" />
				<level name="BookId" />
			</hierarchy>
		</dimension>
		<dimension name="BookingStatus" type="REGULAR">
			<hierarchy name="BookingStatus">
				<level name="IsSimulated" />
				<level name="Status" />
			</hierarchy>
		</dimension>
		<dimension name="Products" type="REGULAR">
			<hierarchy name="Products">
				<level name="ProductType" />
				<level name="ProductName" />
			</hierarchy>
		</dimension>
		<dimension name="HistoricalDates" type="TIME">
			<hierarchy name="HistoricalDates" allMember="false">
				<level name="AsOfDate" type="TIME">
					<!-- add comparator -->
					<comparator pluginKey="ReverseOrder" />
				</level>
			</hierarchy>
		</dimension>
	</dimensions>
	<measures>
		<measure field="delta" 		formatter="DOUBLE[#,###.00;-#,###.00]"/>
		<measure field="pnl" 		formatter="DOUBLE[#,###.00;-#,###.00]"/>
		<measure field="pnlDelta" 	formatter="DOUBLE[#,###.00;-#,###.00]"/>
		<measure field="pnlVega" 	formatter="DOUBLE[#,###.00;-#,###.00]"/>

	</measures>
	<sharedContexts>
		<!--
			Drillthrough customisation
		-->
		<drillthroughProperties>
			<!-- Setting some columns first in order based on their names -->
			<headersComparator pluginKey="Custom">
				<order name="firstObjects">
					<value>Desk</value>
				</order>
			</headersComparator>
			<!-- Hide unwanted columns (in this case, it is an object) -->
			<hiddenColumns>
				<column>BookId</column>
			</hiddenColumns>
		</drillthroughProperties>

		<!-- Contextual configuration of the MDX engine -->
		<mdxContext>
			<formatters>
				<!-- Measure formatting configuration -->
				<formatter uniqueName="[Measures].[update.TIMESTAMP]" 	format="DATE[HH:mm:ss]" />
			</formatters>

			<!-- Restrict formula evaluation on the crossjoined tuples existing in 
				the cube, instead of all possible tuples. -->
			<aggressiveFormulaEvaluation>true</aggressiveFormulaEvaluation>

			<lightCrossJoinEnabled>true</lightCrossJoinEnabled>
		</mdxContext>

	</sharedContexts>
</pivotDescription>
